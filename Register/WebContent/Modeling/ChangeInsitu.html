<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<head  runat="server">
<title>新建原位传感器模型</title>
	<script src="script/jquery-1.4.1.min.js" type="text/javascript"></script>
    <script src="script/jquery.xmlns.js" type="text/javascript"></script>
 
     <script type="text/javascript">
	 var outputCount=0;
	 var SensorID,FullName,ShortName,TypeSelect,PropertySelect,Description,MeasureRange,MeasureRange1,MeasureRange2,Uom1,Certainty,Uom2,Interval,Uom3,Longitude,Latitude,Position_Height,Output1,Output2,Output3,Output4,Output5,ManagerName,Unit,Telephone,Address,City,Country,PostCode,Email,fileName;
	 var msg=window.location.search;
	 fileName=msg.split("=")[1];
	 //Shu_Insitu_Temperature_S-1.xml
	$(document).ready(function (){
		//		var div = $("#placeholder");
			//	$.xmlns["d"] = "";
				//$.xmlns["e"] = "http://www.taobao.com";
				// 处理带命名空间的xml
			clk();
			alert("您正在修改："+fileName+"，请先点击 '载入' 按钮装载文档");
			$("#inp").click(function(){
				clk();
				document.getElementById('SensorID').value=SensorID;
				document.getElementById('SensorID_Name').value=SensorID.split(":")[1]+"_"+SensorID.split(":")[2]+"_"+SensorID.split(":")[3]+"_"+SensorID.split(":")[4];
				document.getElementById('FullName').value=FullName;
				document.getElementById('ShortName').value=ShortName;
				document.getElementById('Description').value=Description;
				document.getElementById('PropertySelect').value=Property_;
				document.getElementById('MeasureRange1').value=MeasureRange1;
				document.getElementById('MeasureRange2').value=MeasureRange2;
				document.getElementById('Uom1').value=Uom1;
				document.getElementById('Certainty').value=Certainty;
				document.getElementById('Uom2').value=Uom2;
				document.getElementById('Interval').value=Interval;
				document.getElementById('Uom3').value=Uom3;
				document.getElementById('Longitude').value=Longitude;		
				document.getElementById('Latitude').value=Latitude;
				document.getElementById('Position_Height').value=Position_Height;
				document.getElementById('ManagerName').value=ManagerName;
				document.getElementById('Telephone').value=Telephone;
				document.getElementById('Unit').value=Unit;
				document.getElementById('Address').value=Address;
				document.getElementById('City').value=City;
				document.getElementById('Country').value=Country;
				document.getElementById('PostCode').value=PostCode;
				document.getElementById('Email').value=Email;
				document.getElementById('Output1').value=Output1;
				document.getElementById('Output2').value=Output2;
				document.getElementById('Output3').value=Output3;
				document.getElementById('Output4').value=Output4;		
				document.getElementById('Output5').value=Output5;
				
				document.getElementById('Output1_Name').value=Output1_Name;
				document.getElementById('Output2_Name').value=Output2_Name;
				document.getElementById('Output3_Name').value=Output3_Name;
				document.getElementById('Output4_Name').value=Output4_Name;		
				document.getElementById('Output5_Name').value=Output5_Name;
				
				document.getElementById('Output1_Uom').value=Output1_Uom;
				document.getElementById('Output2_Uom').value=Output2_Uom;
				document.getElementById('Output3_Uom').value=Output3_Uom;
				document.getElementById('Output4_Uom').value=Output4_Uom;		
				document.getElementById('Output5_Uom').value=Output5_Uom;
			});
		});
	function clk(){
			$.get("SimpleRegister/"+fileName, null, function (data){
				SensorID=$(data).find('SensorML').find('member').find('System').find('identification').find("identifier[name='标识码']").find('value').text();
				FullName=$(data).find('SensorML').find('member').find('System').find('identification').find("identifier[name='全称']").find('value').text();
	//			FullName=FullName.replace(".","");
				ShortName=$(data).find('SensorML').find('member').find('System').find('identification').find("identifier[name='简称']").find('value').text();
	//			ShortName=ShortName.replace(".","")
				Description=$(data).find('SensorML').find('member').find('System').find('description').text();
	//			Description=Description.replace(".","")
				Property_=$(data).find('SensorML').find('member').find('System').find("classification").find("ClassifierList").find('classifier[name="传感器观测属性"]').find('Term').find('value').text();
				MeasureRange=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field").find("QuantityRange").find('value').text();
				MeasureRange1=MeasureRange.split(" ")[0];
				MeasureRange2=MeasureRange.split(" ")[1];
				Uom1=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field").find("QuantityRange").find('uom').attr('code');
	//			Uom1=Uom1.replace(".","");
				Certainty=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field[name='观测精度']").find("Quantity").find('value').text();
				Uom2=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field[name='观测精度']").find("Quantity").find('uom').attr('code');
	//			Uom2=Uom2.replace(".","");
				Interval=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field[name='观测周期']").find("Quantity").find('value').text();
				Uom3=$(data).find('SensorML').find('member').find('System').find('capabilities').find("DataRecord").find("field[name='观测周期']").find("Quantity").find('uom').attr('code');
	//			Uom3=Uom3.replace(".","");
				Longitude=$(data).find('SensorML').find('member').find('System').find('position').find("Position").find("location").find("Vector").find("coordinate[name='经度']").find("Quantity").find("value").text();
				Latitude=$(data).find('SensorML').find('member').find('System').find('position').find("Position").find("location").find("Vector").find("coordinate[name='纬度']").find("Quantity").find("value").text();
				Position_Height=$(data).find('SensorML').find('member').find('System').find('position').find("Position").find("location").find("Vector").find("coordinate[name='高度']").find("Quantity").find("value").text();
				ManagerName=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("organizationName").text();
	//			ManagerName=ManagerName.replace(".","");
				Telephone=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('phone').find('voice').text();
	//			Telephone=Telephone.replace(".","");
				Unit=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('administrativeArea').text();
	//			Unit=Unit.replace(".","");
				Address=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('deliveryPoint').text();
	//			Address=Address.replace(".","");
				City=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('city').text();
	//			City=City.replace(".","");
				Country=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('country').text();
	//			Country=Country.replace(".","");
				PostCode=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('postalCode').text();
	//			PostCode=PostCode.replace(".","");
				Email=$(data).find('SensorML').find('member').find('System').find('contact').find("ResponsibleParty").find("contactInfo").find('address').find('electronicMailAddress').text();
	//			Email=Email.replace(".","");
				Output1_Name=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(0).attr('name');
				Output1_Uom=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(0).find('Quantity').find('uom').attr('code');
				Output1="输出属性1："+Output1_Name+" 单位："+Output1_Uom;

				Output2_Name=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(1).attr('name');
				Output2_Uom=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(1).find('Quantity').find('uom').attr('code');
				Output2="输出属性2："+Output2_Name+" 单位："+Output2_Uom;
				Output3_Name=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(2).attr('name');
				Output3_Uom=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(2).find('Quantity').find('uom').attr('code');
				Output3="输出属性3："+Output3_Name+" 单位："+Output3_Uom;
				Output4_Name=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(3).attr('name');
				Output4_Uom=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(3).find('Quantity').find('uom').attr('code');
				Output4="输出属性4："+Output4_Name+" 单位："+Output4_Uom;
				Output5_Name=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(4).attr('name');
				Output5_Uom=$(data).find('SensorML').find('member').find('System').find('outputs').find('OutputList').find('output').eq(4).find('Quantity').find('uom').attr('code');
				Output5="输出属性4："+Output5_Name+" 单位："+Output5_Uom;
				
				if(Output5_Name!=null)
					outputCount=5;					
				else{	if(Output4_Name!=null){
						outputCount=4;
						Output5="";
						}
						else{	if(Output3_Name!=null){
								outputCount=3;
								Output5=null;
								Output4=null;
								}	else{	if(Output2_Name!=null){
											outputCount=2;
											Output5=null;
											Output4=null;
											Output3=null;
										} else{	outputCount=1;
												Output5=null;
												Output4=null;
												Output3=null;
												Output2=null;
											   }
								    	}
								}
						}
					}
				
				)
				document.getElementById("outputCount").value=outputCount;
				
		}
		
		function testID(){
			alert(document.getElementById("SensorID").value);
			}
	 </script>                                                                                

 
   <style type="text/css">
		.H1{color:#0F9; margin:0; padding:0;  font-size:25px; font-weight:bold; width:100%; vertical-align:middle}
		.H2{color:#0F9; margin:0; padding:0; position:absolute; top:1%; left:34%; font-size:25px; font-weight:bold}
		.H3{color:#0F9; margin:0; padding:0; position:absolute; top:1%; left:67%; font-size:25px; font-weight:bold}
		.Structure{position:relative}
		.tall{height:500px;top:0px; margin-top:0px}
		.text{ text-align:right}
		.id{position:relative; width:18%; float:left}
		.idName{ text-align:center;width:18%;float:left; font-size:12px; vertical-align:bottom}
		.float{float:left;}
		.position{float:left; position:absolute;left:10%}
		.position2{float:left; position:absolute;left:44%}
		.position3{float:left; position:absolute;left:75%}
		.output{ position:absolute;display:none;left:40%; top:30%; background-color:#36F; border:3px solid #F0C; color:#FF6}
    </style>  
</head>
<body>
<script>
window.onload=function(){
	$.ajax({
		type: "GET",
		dataType: "html",
		url: "http://202.121.197.111:84/Register/WebContent/loginCheck.jsp",
		data: "",
		success: function(msg){
			//if(登陆不合法)
			    if(msg==0){
			    	$("body").addClass("hide");
					alert("请先登录");
					window.location.href="http://202.121.197.111:84/Register/WebContent";
			    }else{
			    }
		},
		error:function(msg){
			alert("error:"+msg.responseText);
		}
	});
}
</script>
<a href="javascript:history.back();">返回</a>
<table width="100%" border="0" align="center" cellpadding="0" cellspacing="0">
		<tr>
        	<td>
            	<center>修改原位传感器模型</center>
			  <select onchange="RegisterType()" name="RegisterType" id="RegisterType">
                	<option value="QuickRegister" selected="selected">快速注册</option>
                    <option value="AllRegister">全信息注册</option>
              </select>
				<font size="-2">注：带<font color="#FF0000">*</font>项为必填项</font>
              <form name="NewInsitu" action="http://202.121.197.111:83/Register/WebContent/Modeling/ChangeInsituDeal.asp" method="post" onsubmit="return checkForm()">
        		<div class="Structure">
                	<table width="100%" border="">
                    	<tr height="540">
                        	<td width="33%">
                       		  <div class="tall">
                            	<table border="0" height="100%" width="100%">
                                	<tr height="5%">
                            			<td >
                                        	<div class="H1">(1)标识信息：</div><hr />
                                        </td>
                                	</tr>
                                    <tr height="15%">
                                    	<td>
                                            <div class="float">
                                            	<font color="#FF0000">*</font>标识号：<br />
                                            </div>
                                                <div class="idName">组织标识</div> <div class="idName">类型标识</div> 
                                                <div class="idName">传感器类型</div><div class="idName">传感器ID</div> <br />
                                          		<div class="id">&nbsp;</div>
                                                <input class="id" type="text" id="Org" name="Org" placeholder="" value="Shu" readOnly="true"/>
                                                <input class="id" type="text" id="SenserType" placeholder="" value="Insitu" readOnly="true" />
                                                <input class="id" type="text" id="Property" placeholder="" value=""/>
                                                <input class="id" type="text" id="ID" placeholder="" value="" />
                                           <div class="float" style="width:18%">
                                           		<input type="button" id="EnsureID" name="EnsureID" value="ID勿改！"  style="width:60px"/>
                                           </div>
                                           <div  class="float"> 
                                           		<input type="text" id="SensorID" name="SensorID" placeholder="" 
                                                	value=""  style="color:#F00 ;width:300px" readonly="readonly"/>  
                                           </div>
                                      </td>
                                </tr>
                                    <tr >
                                    	<td>
                                        	<hr />
                                        	<div class="float">
                                            <font color="#FF0000">*</font>传感器全称：</div>
                                            <div class="position">
                                            	<input type="text" id="FullName" name="FullName" placeholder="" 
                                                	value="" style="width:200px" required="required"/>
                                            </div>
                                        </td>	
                                    </tr>
                                    <tr>
                                    	<td>
                                        	<hr />
                                        	<div class="float"><font color="#FF0000">*</font>传感器简称：</div>
                                        	<div class="position">
                                            	<input type="text" id="ShortName" name="ShortName" placeholder=""
                                                 value="" style="width:200px" required="required"/></div>
                                        </td>
                                    </tr>
                                    <tr>
                                    	<td>
                                        	<hr />
                                        	<div class="float">传感器类型：</div><div class="position">
                                        	  <select name="TypeSelect" id="TypeSelect"  onchange="this.selectedIndex=1">
                                        	    <option value="none">请选择传感器类型</option>
                                        	    <option value="原位传感器"  selected="selected">原位传感器</option>
                                        	    <option value="移动传感器">移动传感器</option>
                                        	    <option value="视频传感器">视频传感器</option>
                                      	    </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                    	<td>
                                        	<hr />
                                        	<div class="float">观测属性：</div>
                                            <div class="position">	
                                             <select name="PropertySelect" id="PropertySelect"> 			
                                            		<option selected="selected" value="none">请选择传感器观测属性</option>
                                            		<option value="温度">温度</option>
                                            		<option value="湿度">湿度</option>
                                            		<option value="PM10">PM10</option>
                                            </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                    	<td>
                                        	<hr />
                                        	<div class="float">传感器描述:</div>
                                        	 <center> 
                                             <textarea name="Description" id="Description" placeholder="" 
                                              cols="40" rows="6"></textarea></center>
                                        </td>
                                    </tr>
                                </table>
                                </div>
                            </td>
                        	<td width="34%">
                            	<div class="tall">
                            	<table  height="500px" width="100%">
                                <tr height="5%">
                                	<td>
                            			<div class="H1">(2)特征能力信息：</div><hr />
                            		</td>
                            	</tr>
                                <tr height="50%">
                                	<td>
                                    	<table>
                                        	<tr>
                                            	<td>
                                                	<font size="+1" color="#FFCC99">观测能力</font>
                                                </td>
                                            </tr>
                                            <tr>
                                            	<td>
                                            	<div class="float">
                                                	<font color="#FF0000">*</font>观测范围：
                                                </div>
                                                <div class="position2">
                                                <input id="MeasureRange1" name="MeasureRange1" type="text" style="width:50px" value="" required="required"/>
                                                至
                                                <input id="MeasureRange2" name="MeasureRange2" type="text" style="width:50px" value="" required="required"/>
                                                单位：
                                                <input id="Uom1" name="Uom1" type="text" style="width:50px" value="" required="required"/>
                                                </div>
                                                </td>
                                            </tr>
                                            <tr>
                                            	<td>
                                                	<div class="float"><font color="#FF0000">*</font>测量精度：
                                                    </div>
                                                    <div class="position2">
                                                    	<input id="Certainty" name="Certainty" type="text" style="width:105px" value="" required="required"/>                                                        &nbsp;&nbsp;单位：
                                                        <input  id="Uom2" name="Uom2" type="text" style="width:50px" value="" required="required"/>
                                                   	</div>
                                                </td>
                                            </tr>
                                            <tr>
                                            	<td>
                                                	<div class="float"><font color="#FF0000">*</font>测量时间间隔：
                                                    </div>
                                                    <div class="position2">
                                                    <input name="Interval" id="Interval" type="text" style="width:105px" value="" required="required"/>
                                                    &nbsp;&nbsp;单位：
                                                    <input  id="Uom3" name="Uom3" type="text" style="width:50px" value="" required="required"/>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                        <hr />
                                        <table>
                                        	<tr>
                                            	<td>
                                                	<font size="+1" color="#FFCC99">传感器位置</font>
                                                </td>
                                            </tr>
                                            <tr>
                                            	<td>
                                                	<font color="#FF0000">*</font>经度：
                                                    <input id="Longitude" name="Longitude" type="text" style="width:100px" value="" required="required" />
                                                    (deg)<br />
                                                    <font color="#FF0000">*</font>纬度：
                                                    <input id="Latitude" name="Latitude" type="text" style="width:100px" value="" required="required"/>
                                                    (deg)<br />
                                                   <font color="#FF0000">*</font>高度：
                                                   <input id="Position_Height" name="Position_Height" type="text" 
                                                   		style="width:100px"  value="" required="required"/>
                                                    (m)<br />
                                                </td>
                                            </tr>
                                        </table>
                                        <hr />
                                    </td>
                                </tr>
                                <tr height="5%">
                                	<td>
                                    	<font size="+1" color="#FFCC99">传感器输出信息</font>
                                        <input type="button" onclick="AddOutput()" value="添加"/>
                                        <input type="button"  onclick="DeleteOutput()"value="删除"/>
                                        <font color="#FF0000" id="note1" size="-1">*请至少添加一个传感器输出属性</font>
                                  		<div id="output" class="output">
                                    	<table >
                                        	<tr>
                                            	<td>
                                                	添加输出<font size="-1" color="#66FF33">(请使用英文)</font><br />
                                                    输出名称：<input type="text" id="property" name="property" placeholder="" value=""/><br />
                                                    输出单位：<input type="text" id="uom" name="uom" placeholder="" value="" /><br />
                                                   <center> <input type="button"  onclick="EnsureOutput()" value="确定"/>
                                                   			<input type="button" onclick="CancelOutput()" value="取消"/>
                                                   </center>
                                                </td>
                                            </tr>
                                        </table>
                                   		</div>
                                    </td>
                                </tr>
                                
                                <tr height="30%">
                                	<td>
                                    	<input type="text" id="Output1" name="Output1" style="width:300px" readonly="readonly"/><br />
                                    	<input type="text" id="Output2" name="Output2" style="width:300px" readonly="readonly"/><br />
                                    	<input type="text" id="Output3" name="Output3" style="width:300px" readonly="readonly"/><br />
                                    	<input type="text" id="Output4" name="Output4" style="width:300px" readonly="readonly"/><br />
                                    	<input type="text" id="Output5" name="Output5" style="width:300px" readonly="readonly"/><br />
   
                                    </td>
                                </tr>
                                <tr height="5%">
                                	<td align="center">
                                     <hr />
                                     	
     								    <input id="inp" type="button" value="载入" />
                                    	<input type="submit" value="保存"/>
                                        <input type="button" value="放弃" onclick="javascript:window.location.reload()"/>
                                        <input type="button" value="查看当前建模文档" onclick="CheckRegister()" />
                                        <input type="button" value="注册" onclick="window.location.href='../Register/RegisterSensor.asp'"/>
                                    </td>
                                </tr>
                            	</table>
                           		</div>
                            </td>
                        	<td width="33%">
                            	<div class="tall">
                                	<table height="100%" width="100%">
                                    	<tr height="5%">
                                        	<td>
                        				    	<div class="H1">(3)联系信息：</div><hr />
                                			</td>
                                		</tr>
                                        <tr height="55%">
                                        	<td>
                                            	<div class="float"><font color="#FF0000">*</font>管理者姓名：</div>
                                                <div class="position3">
                                                	<input id="ManagerName" name="ManagerName" type="text" required="required" value=""/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float"><font color="#FF0000">*</font>单位：</div>
                                                <div class="position3">
                                                	<input type="text" id="Unit" name="Unit" required="required" value=""/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float"><font color="#FF0000">*</font>电话：</div>
                                                <div class="position3">
                                                	<input id="Telephone" name="Telephone" type="text" required="required" value=""/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float">通信地址：</div><div class="position3">
                                               	 	<input type="text" id="Address" name="Address"/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float">城市：</div><div class="position3">
                                               		<input type="text" id="City" name="City"/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float"> 国家：</div><div class="position3">
                                                	<input type="text" id="Country" name="Country"/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float"> 邮编：</div><div class="position3">
                                                	<input type="text" id="PostCode" name="PostCode"/></div><br />
                                                <hr color="#FFFFFF" width="0" />
                                                <div class="float"> 电子邮箱：</div><div class="position3">
                                                	<input type="text" id="Email" name="Email"/></div><br />   
                                                <hr color="#FFFFFF" width="0" />
                                            </td>
                                        </tr>
                                        <tr height="40%">
                                        	<td>&nbsp;
                                          </td>
                                        </tr>
                            		</table>
                            	</div>
                            </td>
                        </tr>
          </table>
          
        </div>
        <input type="hidden" id="Output1_Name" name="Output1_Name" /><input type="hidden" id="Output1_Uom" name="Output1_Uom" />
        <input type="hidden" id="Output2_Name" name="Output2_Name" /><input type="hidden" id="Output2_Uom" name="Output2_Uom" />
        <input type="hidden" id="Output3_Name" name="Output3_Name" /><input type="hidden" id="Output3_Uom" name="Output3_Uom" />
        <input type="hidden" id="Output4_Name" name="Output4_Name" /><input type="hidden" id="Output4_Uom" name="Output4_Uom" />
        <input type="hidden" id="Output5_Name" name="Output5_Name" /><input type="hidden" id="Output5_Uom" name="Output5_Uom" />
        <input type="hidden" id="outputCount" name="outputCount"  />
        <input type="hidden" id="SensorID_Name" name="SensorID_Name"/> 
        <button onclick="testID()" style="visibility:hidden">测试SensorID</button>
             </form>
            </td>
        </tr>

</table>
                                 
 <script language="javascript">
 
		
//---------------Below is being Protected!---------------------------------

 document.getElementById("outputCount").value="0";
 for(i=1;i<6;i++){
document.getElementById("Output"+i).value="";
 }
 	function GenerateID(){
		var Org=document.getElementById("Org").value;
		var SenserType=document.getElementById("SenserType").value;
		var Property=document.getElementById("Property").value;
		var ID=document.getElementById("ID").value;
		document.getElementById("SensorID").value="Urn:"+Org+":"+SenserType+":"+Property+":"+ID;
		document.getElementById("SensorID_Name").value=Org+"_"+SenserType+"_"+Property+"_"+ID;

		}
		
	function EnsureOutput(){
			outputCount++;
			document.getElementById("outputCount").value=outputCount;
			document.getElementById("Output"+outputCount+"_Name").value=document.getElementById("property").value;
			document.getElementById("Output"+outputCount+"_Uom").value=document.getElementById("uom").value;
			document.getElementById("Output"+outputCount).value="输出属性"+outputCount+"："+document.getElementById("property").value+"   单位："+document.getElementById("uom").value;
			
			document.getElementById("output").style.display="none";
			if(outputCount>0) 
				document.getElementById("note1").innerHTML=" ";
		}
	function DeleteOutput(){
			document.getElementById("Output"+outputCount).value="";
			document.getElementById("Output"+outputCount+"_Name").value="";
			document.getElementById("Output"+outputCount+"_Uom").value="";
			outputCount--;
			document.getElementById("outputCount").value=outputCount;
			if(outputCount==0) 
				document.getElementById("note1").innerHTML="*请至少添加一个传感器输出属性";
		}
	function AddOutput(){
						if(outputCount>4){
				alert("最多添加5个输出，请联系管理人员！");
				document.getElementById("output").style.display="none";
			}else{
			document.getElementById("output").style.display="block";
		}}
	function CancelOutput(){
		document.getElementById("output").style.display="none";
		}
	function CheckRegister()
		{
			window.open("http://202.121.197.111:83/Register/WebContent/Modeling/SimpleModel.asp","_self");
			}
	function RegisterType(){
			if(document.getElementById("RegisterType").value=="QuickRegister"){
			window.open("NewInsitu.html","_self")}
			else 
				if(document.getElementById("RegisterType").value=="AllRegister"){
				window.open("NewInsitu_All.html","_self")}
		}
	function checkForm(){
		var msg="";
		//验证SensorID
		$("#SensorID").css({"background-color":"white"});
		$(".type_select").css({"background-color":"white"});
		$(".property_select").css({"background-color":"white"});
		$("#Output1").css({"background-color":"white"});
		if($("#SensorID")[0].value==""){
			$("#SensorID").css({"background-color":"yellow"});
			msg+="SensorID";
		}
		//验证传感器类型
		if($("#TypeSelect")[0].value=="none"){
		$(".type_select").css({"background-color":"yellow"});
			msg+="TypeSelect";
		}
		if($("#PropertySelect")[0].value=="none"){
		$(".property_select").css({"background-color":"yellow"});
			msg+="property_select";
		}
		if(outputCount==0){
			$("#Output1").css({"background-color":"yellow"});
			msg+="output";
		}
		if(msg!=""){
			msg="请填写黄色背景部分";
			alert(msg);
			return false;
		};
}
 </script>  
</body>

</html>
